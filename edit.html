<html>
    <head>
        <script type="module">
            import {Vinyl} from "./js/vinyl.js";
            import {fetchVinylById, getVinlyId, renderVinylForm} from "./js/vinyl-frontend.js";
            import {ERROR} from "./js/codes.js";

            try{
                const vinylId = getVinlyId();
                fetchVinylById(vinylId).then(vinylDataObject => {
                    renderVinylForm(vinylDataObject, "vinyl");
                }).catch(error => {
                    alert("ERROR: something went wrong with the request.");
                });
            }
            catch(error){
                switch(error){
                    case ERROR.REQUEST.no_id_specified:
                        alert("ERROR: No vinyl ID has been specified.");
                    break;
                    case ERROR.REQUEST.no_id_matched:
                        alert("ERROR: No match could be found for the specified vinyl ID.");
                    break;
                    default: alert(error);
                }
            }
        </script>
    </head>

    <body>
    
        <div id="app_navigation">
            <a href="index.html" id="navigation_search">Search</a>
            <a href="create.html" id="navigation_create">Create</a>
        </div>

        <div id="app_content">
            <div id="vinyl">
                
            </div>
            <div id="vinyl_actions">

            </div>
        </div>
    
    </body>
</html>